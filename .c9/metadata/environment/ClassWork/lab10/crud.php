{"changed":true,"filter":false,"title":"crud.php","tooltip":"/ClassWork/lab10/crud.php","value":"<?php\n// Add the database connection\n/*\n*   CHECK IF THE FORM HAS BEEN SUBMITTED AND INSERT\n*   NEW USER INTO THE DATABASE\n*/\n\nif($_SERVER['REQUEST_METHOD'] == 'POST') {\n}\n\n$first_name = $POST['first_name'];\n$first_name = $POST['last_name'];\n$first_name = $POST['email'];\n$first_name = $POST['password'];\n\n$insert_query = \"INSERT INTO user_lopez(first_name, last_name, email, password)\n\t\tVALUES ($first_name, $last_name, $email, $password)\";\n\t\t$result = mysqli_query($connection, $insert_query);\n\t\tif($result){\n\t\t    echo 'New user added to DB';\n\t\t}\n\t\telse {'Error entering new user';\n\t\t}\n\t\t\n/*\n*   QUERY THE DATABASE AND STORE ALL USERS INTO A VARIABLE\n*/\n// Create your query\n\n$query = 'SELECT * FROM User_Lopez';\n\n// Run your query\n$result = mysqli_query($connection, $query);\n\n// Check if the database returned anything\nif($result) {\n    $rows = mysqli_fetch_all($result, MYSQLI_ASSOC);\n    print_r($rows);\n   } else {\n        // Output the results\n        echo 'not working';\n    }\n\n?>\n\n<!doctype html>\n<html>\n<head>\n    <title>My First CRUD</title>\n</head>\n<body>\n    <h1>Create a New User</h1>\n    <form action=\"crud.php\" method=\"POST\">\n        <label for=\"first_name\">First Name</label>\n        <input type=\"text\" id=\"first_name\" name=\"first_name\"><br>\n\n        <label for=\"last_name\">Last Name</label>\n        <input type=\"text\" id=\"last_name\" name=\"last_name\"><br>\n\n        <label for=\"email\">Email</label>\n        <input type=\"email\" id=\"email\" name=\"email\"><br>\n\n        <label for=\"password\">Password</label>\n        <input type=\"password\" id=\"password\" name=\"password\"><br>\n\n        <!--Add a second password input so the user has to retype their password -->\n\n        <button>Register</button>\n    </form>\n\n    <h2>Output a List of Users</h2>\n    <table>\n        <thead>\n            <tr>\n                <th>First Name</th>\n                <th>Last Name</th>\n                <th>Email</th>\n                <th>Password</th>\n            </tr>\n        </thead>\n        <tbody>\n            <?php\n            foreach ($rows as $row){\n          echo  '<tr>\n                <td>'.$row['first_name'].'</td>\n                <td>'.$row['lasr_name'].'</td>\n                <td>'.$row['email'].'</td>\n                <td>'.$row['password'].'</td>\n            </tr>';\n            \n            }\n            ?>\n        </tbody>\n    </table>\n</body>\n</html>","undoManager":{"mark":-2,"position":7,"stack":[[{"start":{"row":16,"column":10},"end":{"row":16,"column":11},"action":"insert","lines":["'"],"id":1}],[{"start":{"row":16,"column":22},"end":{"row":16,"column":23},"action":"insert","lines":["'"],"id":2}],[{"start":{"row":16,"column":25},"end":{"row":16,"column":26},"action":"insert","lines":["'"],"id":3}],[{"start":{"row":16,"column":36},"end":{"row":16,"column":37},"action":"insert","lines":["'"],"id":4}],[{"start":{"row":16,"column":39},"end":{"row":16,"column":40},"action":"insert","lines":["'"],"id":5}],[{"start":{"row":16,"column":46},"end":{"row":16,"column":47},"action":"insert","lines":["'"],"id":6}],[{"start":{"row":16,"column":49},"end":{"row":16,"column":50},"action":"insert","lines":["'"],"id":7}],[{"start":{"row":16,"column":59},"end":{"row":16,"column":60},"action":"insert","lines":["'"],"id":8}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":23,"column":2},"end":{"row":23,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1572493190268}